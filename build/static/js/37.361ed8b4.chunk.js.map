{"version":3,"sources":["components/_external-pages/fundraise/FundraiseEdit.js"],"names":["TABS","value","component","FundraiseEdit","theme","useTheme","params","useParams","dispatch","useDispatch","navigate","useNavigate","useSnackbar","enqueueSnackbar","useSelector","state","fundraise","post","isLoading","isLight","palette","mode","useState","data","setData","formik","setFormik","currentTab","setCurrentTab","useEffect","getPost","id","handleSubmit","a","_","isEmpty","sx","top","left","width","zIndex","position","maxWidth","paddingTop","spacing","shape","PAGE_TOP_PADDING","paddingBottom","PAGE_BOTTOM_PADDING","cancelTitle","continueTitle","cancelAction","continueAction","MAIN_VERTICAL_SPACING","p","CARD_PADDING","CARD_CONTENT_SPACING","variant","color","direction","map","tab","onClick","val","renderForm","textShadow","alpha","grey","container","xs","item","sm","display","justifyContent","alignItems","size","type","deletePost","PATH_PAGE","fundraisers"],"mappings":"+aAwCMA,EAAO,CACX,CACEC,MAAO,YACPC,UAAW,cAAC,IAAD,KAEb,CACED,MAAO,QACPC,UAAW,cAAC,IAAD,KAEb,CACED,MAAO,QACPC,UAAW,cAAC,IAAD,MAIA,SAASC,IACtB,IAAMC,EAAQC,cACRC,EAASC,cACTC,EAAWC,cACXC,EAAWC,cAEjB,GAD4BC,cAApBC,gBACoBC,aAAY,SAACC,GAAD,OAAWA,EAAMC,cAAjDC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,UACRC,EAAiC,UAAvBf,EAAMgB,QAAQC,KAC9B,EAAwBC,oBAAS,GAAjC,mBACA,GADA,UACwBA,mBAASL,IAAjC,mBAAOM,EAAP,KAAaC,EAAb,KACA,EAA4BF,mBAAS,MAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAoCJ,mBAAS,aAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KAEAC,qBAAU,WACRrB,EAASsB,YAAQxB,EAAOyB,OACvB,CAACvB,IAEJqB,qBAAU,WACRL,EAAQP,KACP,CAACA,IAEJ,IAIMe,EAAY,uCAAG,sBAAAC,EAAA,sDACnBR,EAAOO,eADY,2CAAH,qDAalB,OAAId,GAAagB,EAAEC,QAAQZ,GAEvB,cAAC,IAAD,CACEa,GAAI,CACFC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,KACRC,SAAU,WAOhB,mCACE,eAAC,IAAD,CACEC,SAAS,KACTN,GAAI,CACFO,WAAY,SAACvC,GAAD,OAAWA,EAAMwC,QAAQxC,EAAMyC,MAAMC,mBACjDC,cAAe,SAAC3C,GAAD,OACbA,EAAMwC,QAAQxC,EAAMyC,MAAMG,uBALhC,UAQE,cAAC,IAAD,CACEC,YAAY,SACZC,cAAc,eACdC,aA5Ca,WACnBzC,GAAU,IA4CJ0C,eAAgBpB,IAGlB,cAAC,IAAD,CAAWU,SAAS,KAApB,SACE,eAAC,IAAD,CAAOE,QAASxC,EAAMyC,MAAMQ,sBAA5B,UACE,cAAC,IAAD,CACEjB,GAAI,CACFkB,EAAGlD,EAAMyC,MAAMU,cAFnB,SAKE,eAAC,IAAD,CAAOX,QAASxC,EAAMyC,MAAMW,qBAA5B,UACE,cAAC,IAAD,CAAYC,QAAQ,KAAKrB,GAAI,CAAEsB,MAAO,gBAAtC,+BAGA,cAAC,IAAD,CAAYD,QAAQ,YAAYrB,GAAI,CAAEsB,MAAO,gBAA7C,+CAIA,cAAC,IAAD,CACEC,UAAU,MACVf,QAASxC,EAAMyC,MAAMW,qBAFvB,SAIGxD,EAAK4D,KAAI,SAACC,GAAD,OACR,cAAC,IAAD,CAEEH,MAAM,UACND,QAAQ,WACRK,QAAS,kBAhEVC,EAgE0BF,EAAI5D,WA/D/C2B,EAAcmC,GADE,IAACA,GA4DD,SAMGF,EAAI5D,OALA4D,EAAI5D,YAUC,cAAf0B,GACC,cAAC,IAAD,CAAuBqC,WAAYtC,EAAWT,KAAMM,IAGtC,UAAfI,GACC,cAAC,IAAD,CAAoBqC,WAAYtC,EAAWT,KAAMM,IAGnC,UAAfI,GACC,cAAC,IAAD,CAAoBqC,WAAYtC,EAAWT,KAAMM,SAKvC,cAAfI,GACC,cAAC,IAAD,CACES,GAAI,CACFkB,EAAGlD,EAAMyC,MAAMU,cAFnB,SAKE,eAAC,IAAD,CAAOX,QAASxC,EAAMyC,MAAMW,qBAA5B,UACE,cAAC,IAAD,CACEC,QAAQ,KACRrB,GAAE,gBACKjB,GAAW,CACd8C,WAAY,SAAC7D,GAAD,6BACM8D,YACd9D,EAAMgB,QAAQ+C,KAAK,KACnB,SAPV,kCAeA,eAAC,IAAD,CAAMC,WAAS,EAACC,GAAI,GAApB,UACE,cAAC,IAAD,CAAMC,MAAI,EAACD,GAAI,GAAIE,GAAI,EAAvB,SACE,cAAC,IAAD,CACEd,QAAQ,QACRrB,GAAE,aACAsB,MAAO,YACFvC,GAAW,CACd8C,WAAY,SAAC7D,GAAD,6BACM8D,YACd9D,EAAMgB,QAAQ+C,KAAK,KACnB,SARV,+JAmBF,cAAC,IAAD,CACEG,MAAI,EACJD,GAAI,GACJE,GAAI,EACJnC,GAAI,CACFoC,QAAS,OACTC,eAAgB,CAAEJ,GAAI,SAAUE,GAAI,YACpCG,WAAY,cAPhB,SAUE,cAAC,IAAD,CACEC,KAAK,SACLC,KAAK,SACLnB,QAAQ,YACRC,MAAM,QACNI,QA3ID,WACnBtD,EAASqE,YAAWvE,EAAOyB,KAC3BrB,EAAS,GAAD,OAAIoE,IAAUC,eAoIJ","file":"static/js/37.361ed8b4.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useDispatch, useSelector } from \"../../../redux/store\";\r\nimport checkmarkCircle2Outline from \"@iconify/icons-eva/checkmark-circle-2-outline\";\r\nimport radioButtonOffOutline from \"@iconify/icons-eva/radio-button-off-outline\";\r\nimport * as Yup from \"yup\";\r\nimport { Form, FormikProvider, useFormik } from \"formik\";\r\nimport {\r\n  alpha,\r\n  experimentalStyled as styled,\r\n  useTheme,\r\n} from \"@material-ui/core/styles\";\r\nimport {\r\n  Box,\r\n  Card,\r\n  Grid,\r\n  Stack,\r\n  Button,\r\n  MenuItem,\r\n  Checkbox,\r\n  TextField,\r\n  Container,\r\n  Typography,\r\n  InputAdornment,\r\n  FormHelperText,\r\n} from \"@material-ui/core\";\r\nimport fakeRequest from \"../../../utils/fakeRequest\";\r\nimport { getPost, deletePost } from \"../../../redux/slices/fundraise\";\r\nimport { FundraiseHeader } from \".\";\r\nimport { FundraiseEditOverView } from \".\";\r\nimport { FundraiseEditPhoto } from \".\";\r\nimport { FundraiseEditStory } from \".\";\r\nimport { PATH_PAGE } from \"src/routes/paths\";\r\nimport LoadingScreen from \"src/components/LoadingScreen\";\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst TABS = [\r\n  {\r\n    value: \"Over View\",\r\n    component: <Box />,\r\n  },\r\n  {\r\n    value: \"Photo\",\r\n    component: <Box />,\r\n  },\r\n  {\r\n    value: \"Story\",\r\n    component: <Box />,\r\n  },\r\n];\r\n\r\nexport default function FundraiseEdit() {\r\n  const theme = useTheme();\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const { post, isLoading } = useSelector((state) => state.fundraise);\r\n  const isLight = theme.palette.mode === \"light\";\r\n  const [open, setOpen] = useState(false);\r\n  const [data, setData] = useState(post);\r\n  const [formik, setFormik] = useState(null);\r\n  const [currentTab, setCurrentTab] = useState(\"Over View\");\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost(params.id));\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    setData(post);\r\n  }, [post]);\r\n\r\n  const handleCancel = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    formik.handleSubmit();\r\n  };\r\n\r\n  const handleTab = (val) => {\r\n    setCurrentTab(val);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    dispatch(deletePost(params.id));\r\n    navigate(`${PATH_PAGE.fundraisers}`);\r\n  };\r\n\r\n  if (isLoading || _.isEmpty(data)) {\r\n    return (\r\n      <LoadingScreen\r\n        sx={{\r\n          top: 0,\r\n          left: 0,\r\n          width: 1,\r\n          zIndex: 9999,\r\n          position: \"fixed\",\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Container\r\n        maxWidth=\"lg\"\r\n        sx={{\r\n          paddingTop: (theme) => theme.spacing(theme.shape.PAGE_TOP_PADDING),\r\n          paddingBottom: (theme) =>\r\n            theme.spacing(theme.shape.PAGE_BOTTOM_PADDING),\r\n        }}\r\n      >\r\n        <FundraiseHeader\r\n          cancelTitle=\"Cancel\"\r\n          continueTitle=\"Save Changes\"\r\n          cancelAction={handleCancel}\r\n          continueAction={handleSubmit}\r\n        />\r\n\r\n        <Container maxWidth=\"md\">\r\n          <Stack spacing={theme.shape.MAIN_VERTICAL_SPACING}>\r\n            <Card\r\n              sx={{\r\n                p: theme.shape.CARD_PADDING,\r\n              }}\r\n            >\r\n              <Stack spacing={theme.shape.CARD_CONTENT_SPACING}>\r\n                <Typography variant=\"h5\" sx={{ color: \"text.primary\" }}>\r\n                  Edit and settings\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\" sx={{ color: \"text.primary\" }}>\r\n                  Make changes in your Fundraising.\r\n                </Typography>\r\n\r\n                <Stack\r\n                  direction=\"row\"\r\n                  spacing={theme.shape.CARD_CONTENT_SPACING}\r\n                >\r\n                  {TABS.map((tab) => (\r\n                    <Button\r\n                      key={tab.value}\r\n                      color=\"inherit\"\r\n                      variant=\"outlined\"\r\n                      onClick={() => handleTab(tab.value)}\r\n                    >\r\n                      {tab.value}\r\n                    </Button>\r\n                  ))}\r\n                </Stack>\r\n\r\n                {currentTab === \"Over View\" && (\r\n                  <FundraiseEditOverView renderForm={setFormik} post={data} />\r\n                )}\r\n\r\n                {currentTab === \"Photo\" && (\r\n                  <FundraiseEditPhoto renderForm={setFormik} post={data} />\r\n                )}\r\n\r\n                {currentTab === \"Story\" && (\r\n                  <FundraiseEditStory renderForm={setFormik} post={data} />\r\n                )}\r\n              </Stack>\r\n            </Card>\r\n\r\n            {currentTab === \"Over View\" && (\r\n              <Card\r\n                sx={{\r\n                  p: theme.shape.CARD_PADDING,\r\n                }}\r\n              >\r\n                <Stack spacing={theme.shape.CARD_CONTENT_SPACING}>\r\n                  <Typography\r\n                    variant=\"h5\"\r\n                    sx={{\r\n                      ...(!isLight && {\r\n                        textShadow: (theme) =>\r\n                          `4px 4px 16px ${alpha(\r\n                            theme.palette.grey[800],\r\n                            0.48\r\n                          )}`,\r\n                      }),\r\n                    }}\r\n                  >\r\n                    Delete my fundraiser\r\n                  </Typography>\r\n\r\n                  <Grid container xs={12}>\r\n                    <Grid item xs={12} sm={7}>\r\n                      <Typography\r\n                        variant=\"body2\"\r\n                        sx={{\r\n                          color: \"#A1A1A1\",\r\n                          ...(!isLight && {\r\n                            textShadow: (theme) =>\r\n                              `4px 4px 16px ${alpha(\r\n                                theme.palette.grey[800],\r\n                                0.48\r\n                              )}`,\r\n                          }),\r\n                        }}\r\n                      >\r\n                        You will no longer hav e access to this fundraiser after\r\n                        deleting. If you receive donation. Your donation will be\r\n                        still able to view a summary.\r\n                      </Typography>\r\n                    </Grid>\r\n\r\n                    <Grid\r\n                      item\r\n                      xs={12}\r\n                      sm={5}\r\n                      sx={{\r\n                        display: \"flex\",\r\n                        justifyContent: { xs: \"center\", sm: \"flex-end\" },\r\n                        alignItems: \"flex-start\",\r\n                      }}\r\n                    >\r\n                      <Button\r\n                        size=\"middle\"\r\n                        type=\"button\"\r\n                        variant=\"contained\"\r\n                        color=\"error\"\r\n                        onClick={handleDelete}\r\n                      >\r\n                        Delete Fundraiser\r\n                      </Button>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Stack>\r\n              </Card>\r\n            )}\r\n          </Stack>\r\n        </Container>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}