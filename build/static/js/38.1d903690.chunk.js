(this["webpackJsonp@minimal/material-kit-react"]=this["webpackJsonp@minimal/material-kit-react"]||[]).push([[38],{4463:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return T}));var n=c(2),a=c(6),r=c.n(a),i=c(14),o=c(12),s=c(1),l=c(55),u=c(18),j=c(57),b=c(33),d=(c(373),c(510),c(39)),p=c(41),x=c(72),h=c(31),O=c(391),v=c(104),m=c(138),f=c(500),g=c(78),C=c(3625),S=c(187),A=c(64),P=c(37),k=c(203),w=c(290),y=c(311),D=(c(392),c(231)),I=c(0);function T(){var e=Object(x.a)(),t=Object(l.i)(),c=Object(b.c)(),a=Object(l.h)(),T=Object(j.b)().enqueueSnackbar,_=(Object(b.d)((function(e){return e.fundraise})).checkout,"light"===e.palette.mode),N=Object(s.useState)(!1),G=Object(o.a)(N,2),q=G[0],E=G[1],R=function(){E(!0)},B=function(){E(!1)},F=d.e().shape({content:d.g().required("Description is required"),cover:d.c().required("Cover is required")}),U=Object(p.c)({initialValues:{content:"",text:"",cover:null},validationSchema:F,onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(n,i){var o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.setSubmitting,s=i.resetForm,e.prev=1,e.next=4,Object(A.a)(500);case 4:s(),B(),o(!1),c(Object(P.b)({fundraiseId:t.id,description:{content:n.content,text:n.text},cover:n.cover})),T("Post success",{variant:"success"}),a(-1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),o(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,c){return e.apply(this,arguments)}}()}),V=U.errors,z=U.values,L=U.touched,J=U.handleSubmit,M=(U.isSubmitting,U.setFieldValue),W=(U.getFieldProps,Object(s.useCallback)((function(e){var t=e[0];t&&M("cover",Object(n.a)(Object(n.a)({},t),{},{preview:URL.createObjectURL(t),rotate:0,scale:0}))}),[M]));return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(O.a,{maxWidth:"lg",sx:{paddingTop:function(e){return e.spacing(e.shape.PAGE_TOP_PADDING)},paddingBottom:function(e){return e.spacing(e.shape.PAGE_BOTTOM_PADDING)}},children:Object(I.jsx)(p.b,{value:U,children:Object(I.jsxs)(p.a,{noValidate:!0,autoComplete:"off",onSubmit:J,children:[Object(I.jsx)(w.i,{cancelTitle:"Cancel",continueTitle:"Post Update",cancelAction:function(){a(-1)},continueAction:J}),Object(I.jsx)(O.a,{maxWidth:"md",children:Object(I.jsx)(v.a,{container:!0,children:Object(I.jsx)(v.a,{item:!0,xs:12,md:12,children:Object(I.jsx)(m.a,{spacing:e.shape.MAIN_VERTICAL_SPACING,children:Object(I.jsx)(f.a,{sx:{p:e.shape.CARD_PADDING},children:Object(I.jsxs)(m.a,{spacing:e.shape.CARD_CONTENT_SPACING,children:[Object(I.jsx)(g.a,{component:"p",variant:"h5",sx:{color:"text.primary"},children:"Post an Update"}),Object(I.jsx)(g.a,{component:"p",variant:"body1",sx:{color:"text.primary"},children:"So that people can get in touch with you."}),Object(I.jsx)(g.a,{variant:"subtitle1",paragraph:!0,sx:Object(n.a)({},!_&&{textShadow:function(e){return"4px 4px 16px ".concat(Object(h.a)(e.palette.grey[800],.48))}}),children:"Share your news"}),Object(I.jsx)(D.a,{id:"product-description",simple:!0,value:z.content,onChange:function(e,t,c,n){var a=n.getText(e);M("content",e),M("text",a)},error:Boolean(L.content&&V.content)}),L.content&&V.content&&Object(I.jsx)(C.a,{error:!0,sx:{px:2},children:L.content&&V.content}),Object(I.jsx)(g.a,{variant:"subtitle1",sx:Object(n.a)({},!_&&{textShadow:function(e){return"4px 4px 16px ".concat(Object(h.a)(e.palette.grey[800],.48))}}),children:"Add a cover photo or video"}),Object(I.jsxs)("div",{children:[Object(I.jsx)(k.c,{maxSize:3145728,accept:"image/*",file:z.cover,onDrop:function(e){R(),W(e)},error:Boolean(L.cover&&V.cover)}),L.cover&&V.cover&&Object(I.jsx)(C.a,{error:!0,sx:{px:2},children:L.cover&&V.cover})]}),Object(I.jsxs)(m.a,{direction:"row",justifyContent:"space-between",children:[Object(I.jsx)(S.a,{size:"small",type:"button",variant:"outlined",startIcon:Object(I.jsx)(u.a,{icon:"akar-icons:edit"}),onClick:function(){R()},children:"Edit"}),Object(I.jsx)(S.a,{size:"small",type:"button",variant:"outlined",startIcon:Object(I.jsx)(u.a,{icon:"bx:trash-alt"}),onClick:function(){M("cover",null),c(Object(P.m)({name:"cover",value:null}))},children:"Delete"})]})]})})})})})})]})})}),Object(I.jsx)(y.a,{formik:U,openPreview:q,onClosePreview:B})]})}}}]);
//# sourceMappingURL=38.1d903690.chunk.js.map