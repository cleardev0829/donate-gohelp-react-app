{"version":3,"sources":["pages/donate/Donate.js"],"names":["STEPS","Donate","dispatch","useDispatch","id","useParams","checkout","useSelector","state","donate","post","fundraise","activeStep","useState","data","setData","isComplete","length","useEffect","getPost","_","isEmpty","title","sx","paddingTop","theme","spacing","shape","PAGE_TOP_PADDING","paddingBottom","PAGE_BOTTOM_PADDING","backgroundColor","palette","background","default","open"],"mappings":"uSAiBMA,EAAQ,CAAC,IAAK,KAEL,SAASC,IACtB,IAAMC,EAAWC,cAETC,EADOC,cACPD,GACAE,EAAaC,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAA1CH,SACAI,EAASH,aAAY,SAACC,GAAD,OAAWA,EAAMG,aAAtCD,KACAE,EAAeN,EAAfM,WACR,EAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACMC,EAAaJ,IAAeZ,EAAMiB,OAUxC,OARAC,qBAAU,WACRhB,EAASiB,YAAQf,MAChB,CAACF,EAAUU,IAEdM,qBAAU,WACRH,EAAQL,KACP,CAACA,IAEAU,IAAEC,QAAQP,GACL,KAIP,cAAC,IAAD,CACEQ,MAAM,SACNC,GAAI,CACFC,WAAY,SAACC,GAAD,OAAWA,EAAMC,QAAQD,EAAME,MAAMC,mBACjDC,cAAe,SAACJ,GAAD,OACbA,EAAMC,QAAQD,EAAME,MAAMG,sBAC5BC,gBAAiB,SAACN,GAAD,OAAWA,EAAMO,QAAQC,WAAWC,UANzD,SASE,mCACIlB,EAMA,cAAC,IAAD,CAAgBmB,KAAMnB,IALtB,sCACmB,IAAhBJ,GAAqB,cAAC,IAAD,CAAYF,KAAMI,IACxB,IAAfF,GAAoB,cAAC,IAAD,CAAeF,KAAMI","file":"static/js/45.49e21347.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Link as RouterLink, useParams } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport { useDispatch, useSelector } from \"../../redux/store\";\r\nimport useIsMountedRef from \"../../hooks/useIsMountedRef\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport Page from \"../../components/Page\";\r\nimport {\r\n  DonateComplete,\r\n  DonateMain,\r\n  DonatePayment,\r\n} from \"../../components/_external-pages/donate\";\r\n\r\nimport { getPost } from \"../../redux/slices/fundraise\";\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst STEPS = [\"1\", \"2\"];\r\n\r\nexport default function Donate() {\r\n  const dispatch = useDispatch();\r\n  const params = useParams();\r\n  const { id } = params;\r\n  const { checkout } = useSelector((state) => state.donate);\r\n  const { post } = useSelector((state) => state.fundraise);\r\n  const { activeStep } = checkout;\r\n  const [data, setData] = useState({});\r\n  const isComplete = activeStep === STEPS.length;\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost(id));\r\n  }, [dispatch, activeStep]);\r\n\r\n  useEffect(() => {\r\n    setData(post);\r\n  }, [post]);\r\n\r\n  if (_.isEmpty(data)) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Page\r\n      title=\"Donate\"\r\n      sx={{\r\n        paddingTop: (theme) => theme.spacing(theme.shape.PAGE_TOP_PADDING),\r\n        paddingBottom: (theme) =>\r\n          theme.spacing(theme.shape.PAGE_BOTTOM_PADDING),\r\n        backgroundColor: (theme) => theme.palette.background.default,\r\n      }}\r\n    >\r\n      <>\r\n        {!isComplete ? (\r\n          <>\r\n            {activeStep === -1 && <DonateMain post={data} />}\r\n            {activeStep === 0 && <DonatePayment post={data} />}\r\n          </>\r\n        ) : (\r\n          <DonateComplete open={isComplete} />\r\n        )}\r\n      </>\r\n    </Page>\r\n  );\r\n}\r\n"],"sourceRoot":""}