{"version":3,"sources":["components/HeaderBreadcrumbs.js","../node_modules/@iconify/icons-eva/plus-fill.js","pages/dashboard/BlogPosts.js"],"names":["HeaderBreadcrumbs","links","action","heading","moreLink","sx","other","mb","spacing","direction","alignItems","flexGrow","variant","gutterBottom","flexShrink","isString","href","target","map","noWrap","display","exports","__esModule","default","SORT_OPTIONS","value","label","SkeletonLoad","container","mt","Array","_","index","item","xs","md","width","height","borderRadius","mx","BlogPosts","dispatch","useDispatch","useState","filters","setFilters","useSelector","state","blog","posts","hasMore","step","sortedPosts","sortBy","orderBy","applySort","onScroll","useCallback","getMorePosts","useEffect","getPostsInitial","title","name","PATH_DASHBOARD","root","component","RouterLink","to","newPost","startIcon","icon","plusFill","justifyContent","query","options","onSort","event","next","loader","dataLength","length","style","overflow","post","id"],"mappings":"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","file":"static/js/19.d66ecf4e.chunk.js","sourcesContent":["import { isString } from \"lodash\";\r\nimport PropTypes from \"prop-types\";\r\n// material\r\nimport { Box, Typography, Link, Stack } from \"@material-ui/core\";\r\n//\r\nimport { MBreadcrumbs } from \"./@material-extend\";\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nHeaderBreadcrumbs.propTypes = {\r\n  links: PropTypes.array,\r\n  action: PropTypes.node,\r\n  heading: PropTypes.string.isRequired,\r\n  moreLink: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\r\n  sx: PropTypes.object,\r\n};\r\n\r\nexport default function HeaderBreadcrumbs({\r\n  links,\r\n  action,\r\n  heading,\r\n  moreLink = \"\" || [],\r\n  sx,\r\n  ...other\r\n}) {\r\n  return (\r\n    <Stack sx={sx} mb={5} spacing={2}>\r\n      <Stack direction=\"row\" alignItems=\"center\">\r\n        <Box sx={{ flexGrow: 1 }}>\r\n          <Typography variant=\"h4\" gutterBottom>\r\n            {heading}\r\n          </Typography>\r\n          <MBreadcrumbs links={links} {...other} />\r\n        </Box>\r\n\r\n        {action && <Box sx={{ flexShrink: 0 }}>{action}</Box>}\r\n      </Stack>\r\n\r\n      {isString(moreLink) ? (\r\n        <Link href={moreLink} target=\"_blank\" variant=\"body2\">\r\n          {moreLink}\r\n        </Link>\r\n      ) : (\r\n        moreLink.map((href) => (\r\n          <Link\r\n            noWrap\r\n            key={href}\r\n            href={href}\r\n            variant=\"body2\"\r\n            target=\"_blank\"\r\n            sx={{ display: \"flex\" }}\r\n          >\r\n            {href}\r\n          </Link>\r\n        ))\r\n      )}\r\n    </Stack>\r\n  );\r\n}\r\n","var data = {\n\t\"body\": \"<path fill=\\\"currentColor\\\" d=\\\"M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","import { orderBy } from 'lodash';\r\nimport { Icon } from '@iconify/react';\r\nimport plusFill from '@iconify/icons-eva/plus-fill';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { useEffect, useCallback, useState } from 'react';\r\n// material\r\nimport { Box, Grid, Button, Skeleton, Container, Stack } from '@material-ui/core';\r\n// redux\r\nimport { useDispatch, useSelector } from '../../redux/store';\r\nimport { getPostsInitial, getMorePosts } from '../../redux/slices/blog';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../routes/paths';\r\n// components\r\nimport Page from '../../components/Page';\r\nimport HeaderBreadcrumbs from '../../components/HeaderBreadcrumbs';\r\nimport { BlogPostCard, BlogPostsSort, BlogPostsSearch } from '../../components/_dashboard/blog';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst SORT_OPTIONS = [\r\n  { value: 'latest', label: 'Latest' },\r\n  { value: 'popular', label: 'Popular' },\r\n  { value: 'oldest', label: 'Oldest' }\r\n];\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst applySort = (posts, sortBy) => {\r\n  if (sortBy === 'latest') {\r\n    return orderBy(posts, ['createdAt'], ['desc']);\r\n  }\r\n  if (sortBy === 'oldest') {\r\n    return orderBy(posts, ['createdAt'], ['asc']);\r\n  }\r\n  if (sortBy === 'popular') {\r\n    return orderBy(posts, ['view'], ['desc']);\r\n  }\r\n  return posts;\r\n};\r\n\r\nconst SkeletonLoad = (\r\n  <Grid container spacing={3} sx={{ mt: 2 }}>\r\n    {[...Array(4)].map((_, index) => (\r\n      <Grid item xs={12} md={3} key={index}>\r\n        <Skeleton variant=\"rectangular\" width=\"100%\" sx={{ height: 200, borderRadius: 2 }} />\r\n        <Box sx={{ display: 'flex', mt: 1.5 }}>\r\n          <Skeleton variant=\"circular\" sx={{ width: 40, height: 40 }} />\r\n          <Skeleton variant=\"text\" sx={{ mx: 1, flexGrow: 1 }} />\r\n        </Box>\r\n      </Grid>\r\n    ))}\r\n  </Grid>\r\n);\r\n\r\nexport default function BlogPosts() {\r\n  const dispatch = useDispatch();\r\n  const [filters, setFilters] = useState('latest');\r\n  const { posts, hasMore, index, step } = useSelector((state) => state.blog);\r\n  const sortedPosts = applySort(posts, filters);\r\n  const onScroll = useCallback(() => dispatch(getMorePosts()), [dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getPostsInitial(index, step));\r\n  }, [dispatch, index, step]);\r\n\r\n  const handleChangeSort = (event) => {\r\n    setFilters(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <Page title=\"Blog: Posts | Minimal-UI\">\r\n      <Container>\r\n        <HeaderBreadcrumbs\r\n          heading=\"Blog\"\r\n          links={[\r\n            { name: 'Dashboard', href: PATH_DASHBOARD.root },\r\n            { name: 'Blog', href: PATH_DASHBOARD.blog.root },\r\n            { name: 'Posts' }\r\n          ]}\r\n          action={\r\n            <Button\r\n              variant=\"contained\"\r\n              component={RouterLink}\r\n              to={PATH_DASHBOARD.blog.newPost}\r\n              startIcon={<Icon icon={plusFill} />}\r\n            >\r\n              New Post\r\n            </Button>\r\n          }\r\n        />\r\n\r\n        <Stack mb={5} direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\r\n          <BlogPostsSearch />\r\n          <BlogPostsSort query={filters} options={SORT_OPTIONS} onSort={handleChangeSort} />\r\n        </Stack>\r\n\r\n        <InfiniteScroll\r\n          next={onScroll}\r\n          hasMore={hasMore}\r\n          loader={SkeletonLoad}\r\n          dataLength={posts.length}\r\n          style={{ overflow: 'inherit' }}\r\n        >\r\n          <Grid container spacing={3}>\r\n            {sortedPosts.map((post, index) => (\r\n              <BlogPostCard key={post.id} post={post} index={index} />\r\n            ))}\r\n          </Grid>\r\n        </InfiniteScroll>\r\n      </Container>\r\n    </Page>\r\n  );\r\n}\r\n"],"sourceRoot":""}